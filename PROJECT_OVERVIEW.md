# 情報収集ツール - プロジェクト概要

## 📖 プロジェクト概要

**情報収集ツール**は、RSS FeedからのWebコンテンツ自動収集・管理と、YouTube/Podcast音声コンテンツのAI要約機能を組み合わせた、PWA（Progressive Web App）対応の情報収集・管理システムです。

### 🎯 目的
「UX・AI活用・0→1ビジネス・文化形成」に関する情報を効率的に収集・整理し、ユーザーが自分でソースを設定して定期的な情報収集を自動化することを目的としています。

## ✨ 主要機能

### 1. RSS Feed管理
- ✅ **RSS Feed登録・削除機能**
  - Webサイト、YouTubeチャンネル、Podcastの RSS Feed URL対応
  - 自動RSS Feed抽出またはマニュアル登録
  - フィード一覧表示と不要フィード削除

### 2. 記事自動収集・表示
- ✅ **スケジュール型自動収集**
  - 日次・週次の自動記事取得（設定可能）
  - 既存記事の重複回避（guid・pubDate管理）
  - コンテンツタイプ自動判定（YouTube/Podcast/記事）

- ✅ **記事管理UI**
  - 記事タイトル、概要、リンク表示
  - 既読ステータス管理（既読記事は非表示）
  - 最新順ソート、コンテンツタイプ別グルーピング

### 3. AI要約機能

#### YouTube動画要約
- ✅ **3段階フォールバック処理**
  1. **字幕取得** → AI要約（最速・高精度）
  2. **音声ダウンロード + Whisper文字起こし** → AI要約（高精度）
  3. **動画説明文** → AI要約（フォールバック）

- ✅ **対応URLフォーマット**
  - youtube.com、youtu.be、YouTube Shorts全対応
  - URLの自動正規化

#### Podcast音声要約
- ✅ **音声文字起こし + AI要約**
  - RSS Feed解析によるエピソード特定
  - Whisper API による音声文字起こし
  - 大容量ファイル対応（分割処理）

#### 手動テキスト要約
- ✅ **任意コンテンツ要約**
  - ユーザー入力テキストのAI要約
  - 全コンテンツタイプ対応

### 4. PWA（スマホアプリ化）対応
- ✅ **ホーム画面追加機能**
  - Android Chrome / iOS Safari対応
  - アプリライクなUI体験
  - オフライン基本機能（Service Worker）

### 5. AI プロバイダー対応
- ✅ **選択可能AI サービス**
  - **Google Gemini API**（推奨・無料枠あり）
  - **OpenAI GPT API**（有料・高品質）
  - 環境変数による切り替え

## 🏗️ 技術アーキテクチャ

### バックエンド
- **Node.js + Express.js**: RESTful API サーバー
- **データベース**: SQLite（開発）/ PostgreSQL（本番）
- **スケジューラー**: node-cron による自動実行
- **音声処理**: @distube/ytdl-core + OpenAI Whisper API

### フロントエンド
- **Vanilla JavaScript**: シンプルSPA構成
- **PWA機能**: Service Worker + Web App Manifest
- **レスポンシブデザイン**: モバイルファースト

### インフラ・デプロイメント
- **開発環境**: ローカル（SQLite + Node.js）
- **本番環境**: Railway（PostgreSQL + 自動デプロイ）
- **静的ホスティング**: GitHub Pages（PWA配信）

## 🗄️ データベース設計

### テーブル構成
```sql
feeds              # RSS Feed情報
├── id (PK)
├── url (Unique)
├── title
├── description
├── last_updated
├── created_at
└── is_active

articles            # 収集記事
├── id (PK)
├── feed_id (FK → feeds.id)
├── guid (Unique)
├── title
├── link
├── description
├── pub_date
├── content_type    # 'youtube'|'podcast'|'article'
├── summary_status  # 'pending'|'completed'|'failed'
├── summary_text
├── read_status
└── created_at

summary_requests    # AI要約リクエスト管理
├── id (PK)
├── article_id (FK → articles.id)
├── status
├── error_message
├── created_at
└── completed_at

transcript_cache    # YouTube字幕キャッシュ
├── id (PK)
├── video_id (Unique)
├── transcript_text
├── created_at
└── accessed_at
```

## 🚀 デプロイメント構成

### 本番環境（Railway）
- **URL**: `https://info-feed-app-production.up.railway.app`
- **データベース**: PostgreSQL（永続化）
- **環境変数**:
  ```
  DATABASE_TYPE=postgresql
  DATABASE_URL=<auto-generated>
  AI_PROVIDER=gemini
  GEMINI_API_KEY=<user-set>
  ```

### スマホアプリ体験
1. Railway URLにアクセス
2. ブラウザメニューから「ホーム画面に追加」
3. アイコンタップでアプリライク起動

## 🔧 開発・運用

### ローカル開発
```bash
# 依存関係インストール
npm install

# 環境変数設定
cp .env.example .env
# .envファイルを編集してAPI KEYを設定

# 開発サーバー起動
npm run dev
# → http://localhost:3000
```

### 主要コマンド
```bash
npm start        # 本番サーバー起動
npm run dev      # 開発サーバー起動（nodemon）
```

### 環境変数
```bash
# 必須設定
AI_PROVIDER=gemini          # or 'openai'
GEMINI_API_KEY=your_key     # Gemini使用時
OPENAI_API_KEY=your_key     # OpenAI使用時

# オプション設定
DATABASE_TYPE=sqlite        # 'sqlite' or 'postgresql'
DATABASE_PATH=./newsfeeder.db
RSS_SCHEDULE=daily          # 'daily' or 'weekly'
PORT=3000
```

## 📱 スマホ利用方法

### ホーム画面追加手順
1. **Android Chrome**:
   - Railway URLにアクセス → メニュー → "ホーム画面に追加"
   
2. **iPhone Safari**:
   - Railway URLにアクセス → 共有ボタン(□↑) → "ホーム画面に追加"

### 利用フロー
1. **RSS Feed登録**: 興味のあるサイト・YouTubeチャンネル・Podcastを追加
2. **自動記事収集**: 設定した時間に新着記事を自動取得
3. **記事閲覧**: コンテンツタイプ別に整理された記事一覧を確認
4. **AI要約**: YouTube動画・Podcast・記事の要約をワンクリック生成
5. **既読管理**: 読み終わった記事を既読にして整理

## 🔄 更新履歴

### Ver.0.4（最新）
- ✅ PostgreSQL対応によるデータ永続化
- ✅ PWAスマホアプリ対応
- ✅ YouTube要約の無限処理問題修正
- ✅ 10分タイムアウト機能追加

### Ver.0.3
- ✅ YouTube音声処理の大幅改善
- ✅ Whisper API統合による高精度文字起こし
- ✅ WSL2最適化

### Ver.0.2
- ✅ AI要約機能の基本実装
- ✅ フロントエンド・バックエンド分離

### Ver.0.1
- ✅ RSS Feed管理機能
- ✅ 記事自動収集機能

## 🎯 今後の拡張可能性

### 近期改善案
- [ ] 記事検索・フィルタリング機能
- [ ] カテゴリ別フィード管理
- [ ] エクスポート機能（PDF・EPUB）
- [ ] 複数ユーザー対応

### 長期的展望
- [ ] AI要約品質向上（GPT-4、Claude対応）
- [ ] マルチモーダル対応（画像・動画解析）
- [ ] レコメンデーション機能
- [ ] チーム共有機能

---

## 📞 サポート・連絡先

### リポジトリ
- **GitHub**: https://github.com/tana-data/info-feed-app
- **本番URL**: https://info-feed-app-production.up.railway.app

### 開発環境
- **Node.js**: v22.16.0+
- **NPM Packages**: 詳細は `package.json` 参照
- **対応OS**: Linux、macOS、Windows（WSL2推奨）

このドキュメントは定期的に更新され、プロジェクトの最新状況を反映します。